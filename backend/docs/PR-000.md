# PR-000 — Repository Scaffolding & CI (Go)

## Goal (PR-000)

Establish a clean, enforceable backend skeleton that:

- compiles
- runs tests
- enforces quality
- contains zero business logic

This PR exists purely to make all future PRs boring and safe.

## Scope Lock (Very Important)

### ✅ This PR includes

- Go module initialization
- Folder structure
- Test tooling
- Linting & formatting
- CI pipeline (tests + lint)

### ❌ This PR explicitly excludes

- Any domain objects
- Any ports or interfaces
- Any adapters
- Any application logic
- Any HTTP handlers

If it "does something", it does not belong here.

## Target Go Environment

- Go version: 1.22
- Module mode: enabled
- No frameworks

## Folder Structure (Authoritative)

```
/backend
  /domain
  /app
  /ports
  /adapters
    /infrastructure
    /http
  /tests
    /domain
    /app
    /ports
    /adapters
  /cmd
    /api
      main.go
  go.mod
  go.sum
  .golangci.yml
```

### Notes

- Empty folders are acceptable
- `cmd/api/main.go` may exist but must be empty stub only
- No cross-layer imports allowed (even later)

## Required Files & Their Responsibilities

### go.mod

- Initializes module
- Go version pinned
- No unnecessary dependencies

### cmd/api/main.go

- Minimal entry point
- Must compile
- No logic

Example intent (not literal requirement):

```go
package main

func main() {}
```

### .golangci.yml

Must enforce:

- formatting (gofmt)
- dead code detection
- unused vars
- cyclomatic complexity warnings
- forbid fmt.Println in non-main packages

No aggressive or experimental linters yet.

## Tests

- `go test ./...` must pass
- It's acceptable to have zero tests in this PR
- Test infrastructure must be ready

## CI Requirements

### CI must:

- Check out code
- Set up Go
- Run `go test ./...`
- Run `golangci-lint`

### CI must fail on:

- test failures
- lint failures
- formatting issues

## Definition of Done (PR-000)

PR-000 is considered done only when all conditions below are met:

- ✅ Go module initializes successfully
- ✅ Repository builds with `go build ./...`
- ✅ Tests run with `go test ./...`
- ✅ Linter runs cleanly
- ✅ CI pipeline is green
- ✅ Folder structure matches BACKEND.md
- ✅ No domain, app, port, or adapter logic exists
- ✅ No TODOs for future features
- ✅ PR can be reviewed in under 10 minutes

## Commit Guidance (Recommended)

This PR should be 1–3 commits max:

1. `chore: initialize go module and folder structure`
2. `chore: add linting and CI configuration`
3. `chore: add api entrypoint stub`
