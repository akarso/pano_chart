# PR-010 — Overview Screen Layout (Grid, Density, Visual Grammar)

## Goal

Design and implement the **overview screen layout** that enables fast, low-cognitive-load scanning of many symbols using the linear-first chart renderer.

This PR focuses on **composition, density, and visual grammar** — not data logic or intelligence.

---

## Scope

**Included**

* Overview screen widget composition
* Grid-based layout with fixed column count
* Density heuristics (padding, aspect ratio, borders)
* Global visual settings (dark mode, timeframe)
* Minimal chart annotations (symbol + % change)

**Explicitly Excluded**

* Sorting / ranking logic
* Indicators
* Per-chart customization
* User preference persistence

---

## Design Principles

* Optimize for **pattern scanning**, not reading
* Predictable layout beats fluid responsiveness
* Visual consistency across all chart items
* Avoid gaps, jitter, and reflow during scrolling

---

## Layout Model

### Grid Strategy

Use a **fixed-column grid** rather than fluid scaling.

Supported column counts:

* 1 column (focus / low symbol count)
* 2 columns (default)
* 3 columns (high-density scan)

Rules:

* Column count is a simple UI setting (in-memory for now)
* No automatic breakpoints
* No masonry layout

Implementation:

* `GridView.builder`
* Fixed cross-axis count

---

### Aspect Ratio

Each chart item must maintain a **constant aspect ratio**.

Target range:

* Between **2:1 and 3:1** (width : height)

Recommended default:

* `AspectRatio(2.5)`

Rationale:

* Wide shapes emphasize slope and oscillation
* Prevents vertical noise amplification

---

## Chart Item Composition

Each grid item contains:

1. Line chart (dominant visual)
2. Symbol label (top-left, inside chart)
3. % change label (top-right or bottom-right)

Rules:

* Text overlays must not affect chart layout
* Use subtle opacity to avoid visual dominance
* No legends, no axes, no tooltips

---

## Color Semantics

Global rules (dark mode only):

* **Uptrend** → green
* **Downtrend** → red
* **Flat / negligible change** → gray

Definitions:

* Change is calculated over visible series window
* Threshold for "flat" is small but non-zero (exact value TBD)

No gradients, no multi-color encoding.

---

## Spacing & Density

### Padding

* Outer padding per item: minimal but non-zero
* Internal chart padding: handled by renderer

### Borders

* Very thin separators between items
* Use low-contrast gray
* Purpose: visual separation without grid dominance

---

## Global Controls (Top-Level)

Overview screen provides:

* Timeframe selector (applies to all charts)
* Column count selector (1 / 2 / 3)

Rules:

* Controls affect entire screen
* No per-symbol overrides
* No persistence in this PR

---

## Performance Considerations

* Use `const` widgets where possible
* Avoid rebuilds on scroll
* No animations in overview

Target:

* Smooth scrolling with 30–60 charts visible

---

## Tests

### Required

* Widget test: overview renders grid for 1/2/3 columns
* Widget test: chart item respects aspect ratio
* Widget test: symbol label and % change render correctly

### Explicitly Not Required

* Golden tests
* Snapshot tests
* Performance benchmarks

---

## Acceptance Criteria

PR-010 is complete when:

* Overview screen renders a stable grid of line charts
* Aspect ratio is consistent across all items
* Density feels intentional (no large gaps)
* Global timeframe control affects all charts
* Dark mode is enforced

---

## Follow-ups

Planned next PRs:

* **PR-011** — Detail screen composition
* **PR-012** — Symbol scoring (domain)
* **PR-013** — Ranking use case

---

## Non-Goals

* User theming
* Accessibility tuning
* Indicator overlays
* Chart interactivity

This PR defines the **primary scanning experience** of the app.
